{
	"variables": [],
	"info": {
		"name": "Environment Event Handler",
		"_postman_id": "b401efd4-f1b1-ae59-9cf3-2a478c94b6f4",
		"description": "",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "[POST] CREATE Environment Event [Create Environment]",
			"request": {
				"url": {
					"raw": "https://dev-cloud-api.corporate.t-mobile.com/api/platform/events?service_name=environment-event-handler",
					"protocol": "https",
					"host": [
						"dev-cloud-api",
						"corporate",
						"t-mobile",
						"com"
					],
					"path": [
						"api",
						"platform",
						"events"
					],
					"query": [
						{
							"key": "service_name",
							"value": "environment-event-handler",
							"equals": true,
							"description": ""
						}
					],
					"variable": []
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "{{access_token}}",
						"description": ""
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					},
					{
						"key": "Accept",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"event_handler\": \"BITBUCKET\",\r\n    \"event_name\": \"CREATE_BRANCH\",\r\n    \"service_name\": \"environment-event-handler\",\r\n    \"event_status\": \"COMPLETED\",\r\n    \"event_type\": \"SERVICE_DEPLOYMENT\",\r\n    \"username\": \"SDutta7\",\r\n    \"event_timestamp\": \"2017-10-30T18:56:22:519\",\r\n    \"service_context\": {\r\n        \"repository\": \"https://bitbucket.corporate.t-mobile.com/projects/CAS/repos/jazztest_test-bitbucket-activity-api/browse\",\r\n        \"domain\": \"jazz\",\r\n        \"branch\": \" test\"\r\n    }\r\n}\r\n"
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "[POST] CREATE Environment Event [Create Environment for \"MASTER\" branch]",
			"request": {
				"url": {
					"raw": "https://dev-cloud-api.corporate.t-mobile.com/api/platform/events?service_name=environment-event-handler",
					"protocol": "https",
					"host": [
						"dev-cloud-api",
						"corporate",
						"t-mobile",
						"com"
					],
					"path": [
						"api",
						"platform",
						"events"
					],
					"query": [
						{
							"key": "service_name",
							"value": "environment-event-handler",
							"equals": true,
							"description": ""
						}
					],
					"variable": []
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "{{access_token}}",
						"description": ""
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					},
					{
						"key": "Accept",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"event_handler\": \"BITBUCKET\",\r\n    \"event_name\": \"CREATE_BRANCH\",\r\n    \"service_name\": \"environment-event-handler\",\r\n    \"event_status\": \"COMPLETED\",\r\n    \"event_type\": \"SERVICE_DEPLOYMENT\",\r\n    \"username\": \"SDutta7\",\r\n    \"event_timestamp\": \"2017-10-30T18:56:22:519\",\r\n    \"service_context\": {\r\n        \"repository\": \"https://bitbucket.corporate.t-mobile.com/projects/CAS/repos/jazztest_test-bitbucket-activity-api/browse\",\r\n        \"domain\": \"jazz\",\r\n        \"branch\": \"master\"\r\n    }\r\n}"
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "[POST] UPDATE Environment Event [Update Environment]",
			"request": {
				"url": {
					"raw": "https://dev-cloud-api.corporate.t-mobile.com/api/platform/events?service_name=environment-event-handler",
					"protocol": "https",
					"host": [
						"dev-cloud-api",
						"corporate",
						"t-mobile",
						"com"
					],
					"path": [
						"api",
						"platform",
						"events"
					],
					"query": [
						{
							"key": "service_name",
							"value": "environment-event-handler",
							"equals": true,
							"description": ""
						}
					],
					"variable": []
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "{{access_token}}",
						"description": ""
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					},
					{
						"key": "Accept",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n                \"service_context\": {\r\n\t\t\t\t\t\"logical_id\": \"dev-syijtabkf\",\r\n\t\t\t\t\t\"service\": \"environment-event-handler\",\r\n\t\t\t\t\t\"status\": \"deployment_failed\",\r\n\t\t\t\t\t\"endpoint\": \"http://test-evt-endpoint.com\",\r\n\t\t\t\t    \"domain\": \"jazz\"\r\n\t\t\t\t},\r\n                \"username\": \"SDutta7\",\r\n                \"event_timestamp\": \"2017-10-10T13:18:32:600\",\r\n                \"event_status\": \"COMPLETED\",\r\n                \"event_name\": \"UPDATE_ENVIRONMENT\",\r\n                \"event_type\": \"SERVICE_DEPLOYMENT\",\r\n                \"service_name\": \"environment-event-handler\",\r\n                \"timestamp\": \"2017-07-13T01:18:35:556\",\r\n                \"event_handler\": \"JENKINS\",\r\n                \"event_id\": \"a21a6b17-6035-4bcd-90eb-14c7788433a5\"\r\n}"
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "[POST] DELETE Environment Event [Delete Environment]",
			"request": {
				"url": {
					"raw": "https://dev-cloud-api.corporate.t-mobile.com/api/platform/events?service_name=environment-event-handler",
					"protocol": "https",
					"host": [
						"dev-cloud-api",
						"corporate",
						"t-mobile",
						"com"
					],
					"path": [
						"api",
						"platform",
						"events"
					],
					"query": [
						{
							"key": "service_name",
							"value": "environment-event-handler",
							"equals": true,
							"description": ""
						}
					],
					"variable": []
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "{{access_token}}",
						"description": ""
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					},
					{
						"key": "Accept",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n                \"service_context\": {\r\n\t\t\t\t\t\"logical_id\": \"dev-syijtabkf\",\r\n\t\t\t\t\t\"service\": \"environment-event-handler\",\r\n\t\t\t\t\t\"status\": \"inactive\",\r\n\t\t\t\t\t\"endpoint\": \"http://test-evt-endpoint.com\",\r\n\t\t\t\t    \"domain\": \"jazz\"\r\n\t\t\t\t},\r\n                \"username\": \"SDutta7\",\r\n                \"event_timestamp\": \"2017-10-10T13:18:32:600\",\r\n                \"event_status\": \"COMPLETED\",\r\n                \"event_name\": \"DELETE_ENVIRONMENT\",\r\n                \"event_type\": \"SERVICE_DEPLOYMENT\",\r\n                \"service_name\": \"environment-event-handler\",\r\n                \"timestamp\": \"2017-07-13T01:18:35:556\",\r\n                \"event_handler\": \"ENVIRONMENT_API\",\r\n                \"event_id\": \"a21a6b17-6035-4bcd-90eb-14c7788433a5\"\r\n}"
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "[POST] [Negative] CREATE Environment Event [Missing Domain]",
			"request": {
				"url": {
					"raw": "https://dev-cloud-api.corporate.t-mobile.com/api/platform/events?service_name=environment-event-handler",
					"protocol": "https",
					"host": [
						"dev-cloud-api",
						"corporate",
						"t-mobile",
						"com"
					],
					"path": [
						"api",
						"platform",
						"events"
					],
					"query": [
						{
							"key": "service_name",
							"value": "environment-event-handler",
							"equals": true,
							"description": ""
						}
					],
					"variable": []
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "{{access_token}}",
						"description": ""
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					},
					{
						"key": "Accept",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n                \"service_context\": {\r\n\t\t\t\t\t\"logical_id\": \"dev-99\",\r\n\t\t\t\t\t\"created_by\": \"SDutta7\",\r\n\t\t\t\t\t\"service\": \"environment-event-handler\",\r\n\t\t\t\t\t\"status\": \"active\",\r\n\t\t\t\t    \"physical_id\": \"feature/impl-99\",\r\n\t\t\t\t    \"friendly_name\": \"test-name\"\r\n\t\t\t\t},\r\n                \"username\": \"SDutta7\",\r\n                \"event_timestamp\": \"2017-10-10T13:18:32:600\",\r\n                \"event_status\": \"COMPLETED\",\r\n                \"event_name\": \"CREATE_SCM_BRANCH\",\r\n                \"event_type\": \"SERVICE_DEPLOYMENT\",\r\n                \"service_name\": \"environment-event-handler\",\r\n                \"timestamp\": \"2017-07-13T01:18:35:556\",\r\n                \"event_handler\": \"SCM\",\r\n                \"event_id\": \"a21a6b17-6035-4bcd-90eb-14c7788433a5\"\r\n}"
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "[POST] [Negative] CREATE Environment Event [Unknown Service Name]",
			"request": {
				"url": {
					"raw": "https://dev-cloud-api.corporate.t-mobile.com/api/platform/events?service_name=environment-event-handler",
					"protocol": "https",
					"host": [
						"dev-cloud-api",
						"corporate",
						"t-mobile",
						"com"
					],
					"path": [
						"api",
						"platform",
						"events"
					],
					"query": [
						{
							"key": "service_name",
							"value": "environment-event-handler",
							"equals": true,
							"description": ""
						}
					],
					"variable": []
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "{{access_token}}",
						"description": ""
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					},
					{
						"key": "Accept",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n                \"service_context\": {\r\n\t\t\t\t\t\"logical_id\": \"dev-99\",\r\n\t\t\t\t\t\"created_by\": \"SDutta7\",\r\n\t\t\t\t\t\"service\": \"environment-event-handler\",\r\n\t\t\t\t\t\"status\": \"active\",\r\n\t\t\t\t\t\"domain\" : \"jazz\",\r\n\t\t\t\t    \"branch\": \"feature/impl-99\",\r\n\t\t\t\t    \"friendly_name\": \"test-name\"\r\n\t\t\t\t},\r\n                \"username\": \"SDutta7\",\r\n                \"event_timestamp\": \"2017-10-10T13:18:32:600\",\r\n                \"event_status\": \"COMPLETED\",\r\n                \"event_name\": \"CREATE_BRANCH\",\r\n                \"event_type\": \"SERVICE_DEPLOYMENT\",\r\n                \"service_name\": \"unknown\",\r\n                \"timestamp\": \"2017-07-13T01:18:35:556\",\r\n                \"event_handler\": \"SCM\",\r\n                \"event_id\": \"a21a6b17-6035-4bcd-90eb-14c7788433a5\"\r\n}"
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "[POST] [Negative] CREATE Environment Event [ Missing Service Context]",
			"request": {
				"url": {
					"raw": "https://dev-cloud-api.corporate.t-mobile.com/api/platform/events?service_name=environment-event-handler",
					"protocol": "https",
					"host": [
						"dev-cloud-api",
						"corporate",
						"t-mobile",
						"com"
					],
					"path": [
						"api",
						"platform",
						"events"
					],
					"query": [
						{
							"key": "service_name",
							"value": "environment-event-handler",
							"equals": true,
							"description": ""
						}
					],
					"variable": []
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "{{access_token}}",
						"description": ""
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					},
					{
						"key": "Accept",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n                \"service_context\": {\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n                \"username\": \"SDutta7\",\r\n                \"event_timestamp\": \"2017-10-10T13:18:32:600\",\r\n                \"event_status\": \"COMPLETED\",\r\n                \"event_name\": \"CREATE_BRANCH\",\r\n                \"event_type\": \"SERVICE_DEPLOYMENT\",\r\n                \"service_name\": \"environment-event-handler\",\r\n                \"timestamp\": \"2017-07-13T01:18:35:556\",\r\n                \"event_handler\": \"SCM\",\r\n                \"event_id\": \"a21a6b17-6035-4bcd-90eb-14c7788433a5\"\r\n}"
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "[POST] [Negative] UPDATE Environment Event [Missing Domain]",
			"request": {
				"url": {
					"raw": "https://dev-cloud-api.corporate.t-mobile.com/api/platform/events?service_name=environment-event-handler",
					"protocol": "https",
					"host": [
						"dev-cloud-api",
						"corporate",
						"t-mobile",
						"com"
					],
					"path": [
						"api",
						"platform",
						"events"
					],
					"query": [
						{
							"key": "service_name",
							"value": "environment-event-handler",
							"equals": true,
							"description": ""
						}
					],
					"variable": []
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "{{access_token}}",
						"description": ""
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					},
					{
						"key": "Accept",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n                \"service_context\": {\r\n\t\t\t\t\t\"logical_id\": \"dev-21\",\r\n\t\t\t\t\t\"service\": \"environment-event-handler\",\r\n\t\t\t\t\t\"status\": \"deployment_completed\"\r\n\t\t\t\t},\r\n                \"username\": \"SDutta7\",\r\n                \"event_timestamp\": \"2017-10-10T13:18:32:600\",\r\n                \"event_status\": \"COMPLETED\",\r\n                \"event_name\": \"UPDATE_ENVIRONMENT\",\r\n                \"event_type\": \"SERVICE_DEPLOYMENT\",\r\n                \"service_name\": \"environment-event-handler\",\r\n                \"timestamp\": \"2017-07-13T01:18:35:556\",\r\n                \"event_handler\": \"JENKINS\",\r\n                \"event_id\": \"a21a6b17-6035-4bcd-90eb-14c7788433a5\"\r\n}"
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "[POST] [Negative] UPDATE Environment Event [Unknown Service Name]",
			"request": {
				"url": {
					"raw": "https://dev-cloud-api.corporate.t-mobile.com/api/platform/events?service_name=environment-event-handler",
					"protocol": "https",
					"host": [
						"dev-cloud-api",
						"corporate",
						"t-mobile",
						"com"
					],
					"path": [
						"api",
						"platform",
						"events"
					],
					"query": [
						{
							"key": "service_name",
							"value": "environment-event-handler",
							"equals": true,
							"description": ""
						}
					],
					"variable": []
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "{{access_token}}",
						"description": ""
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					},
					{
						"key": "Accept",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n                \"service_context\": {\r\n\t\t\t\t\t\"logical_id\": \"dev-21\",\r\n\t\t\t\t\t\"service\": \"environment-event-handler\",\r\n\t\t\t\t\t\"status\": \"pending_approval\",\r\n\t\t\t\t\t\"domain\": \"jazz\"\r\n\t\t\t\t},\r\n                \"username\": \"SDutta7\",\r\n                \"event_timestamp\": \"2017-10-10T13:18:32:600\",\r\n                \"event_status\": \"COMPLETED\",\r\n                \"event_name\": \"UPDATE_ENVIRONMENT\",\r\n                \"event_type\": \"SERVICE_DEPLOYMENT\",\r\n                \"service_name\": \"unknown\",\r\n                \"timestamp\": \"2017-07-13T01:18:35:556\",\r\n                \"event_handler\": \"JENKINS\",\r\n                \"event_id\": \"a21a6b17-6035-4bcd-90eb-14c7788433a5\"\r\n}"
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "[POST] [Negative] UPDATE Environment Event [Unknown Environment Logical Id]",
			"request": {
				"url": {
					"raw": "https://dev-cloud-api.corporate.t-mobile.com/api/platform/events?service_name=environment-event-handler",
					"protocol": "https",
					"host": [
						"dev-cloud-api",
						"corporate",
						"t-mobile",
						"com"
					],
					"path": [
						"api",
						"platform",
						"events"
					],
					"query": [
						{
							"key": "service_name",
							"value": "environment-event-handler",
							"equals": true,
							"description": ""
						}
					],
					"variable": []
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "{{access_token}}",
						"description": ""
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					},
					{
						"key": "Accept",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n                \"service_context\": {\r\n\t\t\t\t\t\"logical_id\": \"unknown-1234\",\r\n\t\t\t\t\t\"service\": \"environment-event-handler\",\r\n\t\t\t\t\t\"status\": \"pending_approval\",\r\n\t\t\t\t\t\"domain\": \"jazz\"\r\n\t\t\t\t},\r\n                \"username\": \"SDutta7\",\r\n                \"event_timestamp\": \"2017-10-10T13:18:32:600\",\r\n                \"event_status\": \"COMPLETED\",\r\n                \"event_name\": \"UPDATE_ENVIRONMENT\",\r\n                \"event_type\": \"SERVICE_DEPLOYMENT\",\r\n                \"service_name\": \"environment-event-handler\",\r\n                \"timestamp\": \"2017-07-13T01:18:35:556\",\r\n                \"event_handler\": \"JENKINS\",\r\n                \"event_id\": \"a21a6b17-6035-4bcd-90eb-14c7788433a5\"\r\n}"
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "[POST] [Negative] UPDATE Environment Event [Missing Service Context]",
			"request": {
				"url": {
					"raw": "https://dev-cloud-api.corporate.t-mobile.com/api/platform/events?service_name=environment-event-handler",
					"protocol": "https",
					"host": [
						"dev-cloud-api",
						"corporate",
						"t-mobile",
						"com"
					],
					"path": [
						"api",
						"platform",
						"events"
					],
					"query": [
						{
							"key": "service_name",
							"value": "environment-event-handler",
							"equals": true,
							"description": ""
						}
					],
					"variable": []
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "{{access_token}}",
						"description": ""
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					},
					{
						"key": "Accept",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n                \"service_context\": {\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n                \"username\": \"SDutta7\",\r\n                \"event_timestamp\": \"2017-10-10T13:18:32:600\",\r\n                \"event_status\": \"COMPLETED\",\r\n                \"event_name\": \"UPDATE_ENVIRONMENT\",\r\n                \"event_type\": \"SERVICE_DEPLOYMENT\",\r\n                \"service_name\": \"environment-event-handler\",\r\n                \"timestamp\": \"2017-07-13T01:18:35:556\",\r\n                \"event_handler\": \"JENKINS\",\r\n                \"event_id\": \"a21a6b17-6035-4bcd-90eb-14c7788433a5\"\r\n}"
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "[POST] UPDATE Environment Event [Update Environment without Endpoint]",
			"request": {
				"url": {
					"raw": "https://dev-cloud-api.corporate.t-mobile.com/api/platform/events?service_name=environment-event-handler",
					"protocol": "https",
					"host": [
						"dev-cloud-api",
						"corporate",
						"t-mobile",
						"com"
					],
					"path": [
						"api",
						"platform",
						"events"
					],
					"query": [
						{
							"key": "service_name",
							"value": "environment-event-handler",
							"equals": true,
							"description": ""
						}
					],
					"variable": []
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "{{access_token}}",
						"description": ""
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					},
					{
						"key": "Accept",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n                \"service_context\": {\r\n\t\t\t\t\t\"logical_id\": \"dev-syijtabkf\",\r\n\t\t\t\t\t\"service\": \"environment-event-handler\",\r\n\t\t\t\t\t\"status\": \"active\",\r\n\t\t\t\t    \"domain\": \"jazz\"\r\n\t\t\t\t},\r\n                \"username\": \"SDutta7\",\r\n                \"event_timestamp\": \"2017-10-10T13:18:32:600\",\r\n                \"event_status\": \"COMPLETED\",\r\n                \"event_name\": \"UPDATE_ENVIRONMENT\",\r\n                \"event_type\": \"SERVICE_DEPLOYMENT\",\r\n                \"service_name\": \"environment-event-handler\",\r\n                \"timestamp\": \"2017-07-13T01:18:35:556\",\r\n                \"event_handler\": \"JENKINS\",\r\n                \"event_id\": \"a21a6b17-6035-4bcd-90eb-14c7788433a5\"\r\n}"
				},
				"description": ""
			},
			"response": []
		}
	]
}